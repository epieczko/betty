{
  "registry_version": "1.0.0",
  "generated_at": "2025-10-25T20:32:04.062152+00:00",
  "hooks": [
    {
      "name": "test-validation-hook",
      "version": "0.1.0",
      "description": "Test hook for validating hook.define skill",
      "event": "on_file_edit",
      "command": "python betty/skills/api.validate/api_validate.py {file_path} zalando",
      "when": {
        "pattern": "*.openapi.yaml"
      },
      "blocking": true,
      "timeout": 30000,
      "on_failure": "show_errors",
      "status": "draft",
      "tags": [
        "test",
        "validation",
        "openapi"
      ]
    },
    {
      "name": "test-registry-hook",
      "version": "1.0.0",
      "description": "Test registry update",
      "event": "on_file_edit",
      "command": "python test.py {file_path}",
      "when": {},
      "blocking": true,
      "timeout": 30000,
      "on_failure": "show_errors",
      "status": "draft",
      "tags": [
        "test"
      ]
    },
    {
      "name": "test-update-hook",
      "version": "1.0.1",
      "description": "Updated description",
      "event": "on_file_edit",
      "command": "python new_test.py",
      "when": {},
      "blocking": true,
      "timeout": 30000,
      "on_failure": "show_errors",
      "status": "draft",
      "tags": []
    },
    {
      "name": "test-workflow-hook",
      "version": "1.0.0",
      "description": "Test complete workflow",
      "event": "on_file_edit",
      "command": "python validate.py {file_path}",
      "when": {
        "pattern": "*.openapi.yaml"
      },
      "blocking": true,
      "timeout": 30000,
      "on_failure": "show_errors",
      "status": "active",
      "tags": [
        "test",
        "workflow",
        "openapi"
      ]
    },
    {
      "name": "artifact.policy.validate",
      "version": "0.1.0",
      "description": "Automatically validate every AI-generated artifact against a named policy profile using policy.enforce",
      "event": "artifact.generated",
      "trigger": {
        "event": "artifact.generated",
        "conditions": {
          "artifact_type": "any",
          "policy_profile": "default"
        }
      },
      "actions": [
        {
          "name": "enforce_policy",
          "skill": "policy.enforce"
        },
        {
          "name": "log_audit",
          "skill": "audit.log"
        },
        {
          "name": "handle_failure",
          "condition": "policy.enforce.result == 'fail'"
        }
      ],
      "permissions": {
        "filesystem": {
          "read": true
        },
        "network": false,
        "secrets": false
      },
      "blocking": true,
      "timeout": 60000,
      "on_failure": "notify_and_stop",
      "status": "active",
      "tags": [
        "policy",
        "compliance",
        "validation",
        "artifact",
        "security",
        "governance"
      ]
    }
  ]
}