# Betty Framework - Claude Code Marketplace

This directory contains the Claude Code marketplace configuration for Betty Framework.

## Files

- **marketplace.json** - Claude Code marketplace manifest listing Betty Framework as an installable plugin

## Usage

### Installing Betty via Claude Code Marketplace

1. **From GitHub Repository:**
   ```bash
   /plugin marketplace add epieczko/betty
   /plugin install betty-framework
   ```

2. **From Local Clone:**
   ```bash
   cd /path/to/betty
   /plugin add .
   ```

3. **From HTTP URL:**
   ```bash
   # Start the marketplace server
   python serve_marketplace.py

   # Add marketplace
   /plugin marketplace add http://localhost:8080/.claude-plugin/marketplace.json
   /plugin install betty-framework
   ```

## Marketplace Format

The `marketplace.json` file follows Claude Code's plugin marketplace specification:

```json
{
  "name": "betty-marketplace",
  "owner": {...},
  "plugins": [
    {
      "name": "betty-framework",
      "source": ".",
      "version": "1.0.0",
      "strict": true
    }
  ]
}
```

### Key Fields

- **name**: Marketplace identifier
- **owner**: Organization/author information
- **plugins**: Array of available plugins
  - **source**: `"."` indicates plugin.yaml is in the repository root
  - **strict**: `true` requires a plugin.yaml manifest file

## Generation

The marketplace.json file is automatically generated by the `generate.marketplace` skill:

```bash
python skills/generate.marketplace/generate_marketplace.py
```

This command:
1. Reads from `registry/*.json`
2. Generates `marketplace/*.json` (Betty catalog files)
3. Generates `.claude-plugin/marketplace.json` (Claude Code format)

## Serving via HTTP

To serve the marketplace over HTTP:

```bash
python serve_marketplace.py --host 0.0.0.0 --port 8080
```

Available endpoints:
- `/.claude-plugin/marketplace.json` - Claude Code marketplace manifest
- `/marketplace/skills.json` - Betty skills catalog
- `/marketplace/agents.json` - Betty agents catalog
- `/marketplace/commands.json` - Betty commands catalog
- `/marketplace/hooks.json` - Betty hooks catalog

## Integration with Claude Code

When Betty is installed via the marketplace:

1. Claude Code reads `.claude-plugin/marketplace.json`
2. Locates the plugin via the `source` field
3. Loads `plugin.yaml` from the repository root
4. Registers all commands, agents, and skills

## Documentation

- **Claude Code Plugin Marketplaces**: https://docs.claude.com/en/docs/claude-code/plugin-marketplaces
- **Betty Plugin Documentation**: ../PLUGIN.md
- **Betty Marketplace README**: ../marketplace/README.md

## Related Files

- `../plugin.yaml` - Claude Code plugin manifest (execution)
- `../marketplace/*.json` - Betty marketplace catalogs (discovery)
- `../registry/*.json` - Betty registry files (source of truth)
