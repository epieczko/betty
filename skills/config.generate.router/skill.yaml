name: config.generate.router
version: 0.1.0
description: Generates valid Claude Code Router configuration JSON from validated inputs
status: active

inputs:
  - name: llm_backends
    type: array
    required: true
    description: List of validated backend provider configurations

  - name: routing_rules
    type: object
    required: true
    description: Validated routing context mappings

  - name: metadata
    type: object
    required: false
    description: Optional metadata (audit_id, environment, etc.)

outputs:
  - name: router_config
    type: object
    description: Complete router configuration ready for file output
    schema:
      type: object
      properties:
        version:
          type: string
        generated_at:
          type: string
        backends:
          type: array
        routing:
          type: object
        metadata:
          type: object

artifact_metadata:
  consumes:
    - type: validation-report
      description: Validation report confirming input correctness
      content_type: application/json
      schema: schemas/validation-report.json

  produces:
    - type: llm-router-config
      description: Complete Claude Code Router configuration
      file_pattern: "config.json"
      content_type: application/json
      schema: schemas/router-config.json

entrypoints:
  - command: /skill/config/generate/router
    handler: generate_router.py
    runtime: python

permissions:
  - filesystem:read

tags:
  - config
  - generation
  - router
  - llm
