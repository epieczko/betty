name: run.agent
version: 0.1.0
description: >
  Simulates execution of a Betty agent by loading its manifest,
  constructing the prompt, and demonstrating which skills would be invoked.
  Useful for testing agent design and understanding agent behavior.

inputs:
  - name: agent_path
    type: string
    required: true
    description: Path to agent manifest (agent.yaml) or agent name
  - name: input_text
    type: string
    required: false
    description: Optional task/query to provide to the agent

outputs:
  - name: execution_log
    type: object
    description: Details of the simulated agent execution including prompt and skills

dependencies:
  - agent.define

status: active

entrypoints:
  - command: /agent/run
    handler: run_agent.py
    runtime: python
    description: >
      Simulate execution of an agent manifest. Shows the constructed prompt,
      mock Claude response, and skills that would be invoked.
    parameters:
      - name: agent_path
        type: string
        required: true
        description: Path to agent.yaml file or agent name (e.g., api.designer)
      - name: input_text
        type: string
        required: false
        description: Optional input text to provide to the agent
    permissions:
      - filesystem:read

tags:
  - agents
  - simulation
  - testing
  - layer2
